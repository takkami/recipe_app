<div class="form-container">
  <%= form_with model: recipe, class: "recipe-form" do |f| %>
    <div class="recipe-form__inner">
      <div class="form-group">
        <%= f.label :title, "タイトル", class: "form-label form-label--required" %>
        <%= f.text_field :title, class: "form-input", placeholder: "例：豚こま生姜焼き" %>
      </div>

      <div class="form-group">
        <%= f.label :source_url, "参考URL", class: "form-label" %>
        <%= f.url_field :source_url, class: "form-input", placeholder: "https://example.com/recipe" %>
      </div>

      <div class="form-group">
        <%= f.label :image, "画像", class: "form-label" %>
        <div class="file-input-wrapper">
          <%= f.file_field :image, accept: "image/*", class: "file-input", id: "recipe_image_input" %>
          <label for="recipe_image_input" class="file-input-label">
            <span class="file-input-icon">📷</span>
            <span class="file-input-text">画像を選択</span>
          </label>
        </div>
        <% if recipe.image.attached? %>
          <div class="current-image">
            <div class="current-image__label">現在の画像：</div>
            <%= image_tag recipe.image.variant(resize_to_limit: [400, 400]), class: "current-image__img" %>
          </div>
        <% end %>
      </div>

      <div class="form-group">
        <%= f.label :ingredients, "材料", class: "form-label" %>
        <%= f.text_area :ingredients, class: "form-textarea", rows: 6, placeholder: "例：\n豚こま肉：200g\n玉ねぎ：1/2個\n生姜：1片\n醤油：大さじ2" %>
      </div>

      <div class="form-group">
        <%= f.label :memo, "メモ", class: "form-label" %>
        <%= f.text_area :memo, class: "form-textarea", rows: 8, placeholder: "作り方のメモ、注意点、アレンジ方法など" %>
      </div>

      <div class="form-actions">
        <%= f.submit recipe.new_record? ? "保存する" : "更新する", class: "btn btn--submit" %>
        <%= link_to "キャンセル", recipes_path, class: "btn btn--cancel" %>
      </div>
    </div>
  <% end %>
</div>
